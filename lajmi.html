<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">DRENICA SOT</title>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        body { background: #000; color: white; font-family: sans-serif; margin: 0; padding: 0; }
        header { background: #000; padding: 15px; text-align: center; border-bottom: 3px solid red; }
        .logo { font-size: 24px; font-weight: 900; color: white; text-decoration: none; }
        .logo span { color: red; }
        .container { max-width: 800px; margin: 20px auto; padding: 15px; }
        .back-btn { display: inline-block; padding: 8px 15px; background: #222; color: white; text-decoration: none; border-radius: 5px; margin-bottom: 20px; }
        img, iframe { width: 100%; border-radius: 10px; margin: 20px 0; border: none; min-height: 300px; background: #111; }
        h1 { font-size: 32px; line-height: 1.2; margin-top: 10px; }
        p { line-height: 1.8; font-size: 19px; color: #ddd; white-space: pre-wrap; }
    </style>
</head>
<body>
    <header><a href="index.html" class="logo">DRENICA<span>SOT</span></a></header>
    <div class="container">
        <a href="index.html" class="back-btn">← KREU</a>
        <div id="content">Duke ngarkuar lajmin...</div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBh_7BwfNbKbscPSW1ZN9Y_UvAntsjl9Wg",
            authDomain: "herolind-6ca5f.firebaseapp.com",
            databaseURL: "https://herolind-6ca5f-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "herolind-6ca5f",
            storageBucket: "herolind-6ca5f.firebasestorage.app",
            messagingSenderId: "893085364638",
            appId: "1:893085364638:web:2db59e6ec72ad7e7c1a68f"
        };
        firebase.initializeApp(firebaseConfig);
        
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');

        if(id) {
            firebase.database().ref('lajmet/' + id).once('value', (snap) => {
                const l = snap.val();
                if(!l) return;
                
                // Kjo e ndryshon titullin në shiritin e browser-it
                document.title = l.titulli + " | DRENICA SOT";
                
                let media = l.video ? `<iframe src="https://www.youtube.com/embed/${l.video}" allowfullscreen></iframe>` : `<img src="${l.foto}">`;
                
                document.getElementById('content').innerHTML = `
                    <span style="background:red; padding:3px 8px; font-weight:bold; font-size:12px;">${l.kategoria}</span>
                    <h1>${l.titulli}</h1>
                    ${media}
                    <p>${l.pershkrimi}</p>
                `;
            });
        }
    </script>
</body>
</html>
