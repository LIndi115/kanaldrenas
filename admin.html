<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN PANEL - DRENICA SOT</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; padding: 20px; }
        .box { max-width: 600px; margin: auto; background: #111; padding: 30px; border-radius: 15px; border: 1px solid #222; }
        h2 { color: red; text-align: center; text-transform: uppercase; }
        label { font-size: 12px; color: #666; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 12px; margin: 5px 0 20px 0; background: #222; border: 1px solid #333; color: #fff; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: red; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        button:hover { background: #cc0000; }
        .item { background: #0a0a0a; padding: 15px; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; border-radius: 8px; border: 1px solid #222; }
        .btn-del { background: none; color: red; padding: 5px 10px; border: 1px solid red; border-radius: 5px; width: auto; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <h2>PUBLIKO LAJM TË RI</h2>
        <label>TITULLI</label>
        <input type="text" id="t" placeholder="Shkruaj titullin...">
        <label>FOTO URL</label>
        <input type="text" id="f" placeholder="Linku i fotos...">
        <label>RUBRIKA</label>
        <select id="k">
            <option value="KRYESORE">Kryesore</option>
            <option value="SPORT">Sport</option>
            <option value="VIP">VIP</option>
            <option value="EKONOMI">Ekonomi</option>
            <option value="DRENICA">Drenica</option>
        </select>
        <label>PËRMBRAJTJA</label>
        <textarea id="p" rows="4" placeholder="Shkruaj tekstin..."></textarea>
        <button onclick="save()">PUBLIKO LAJMIN</button>
        <h3 style="margin-top:40px; border-bottom: 1px solid #222; padding-bottom: 10px;">MENAXHO LAJMET</h3>
        <div id="list"></div>
    </div>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDE_JmY9H_f77kK3O29-p9v0M_VlI",
            authDomain: "drenicasot-2026.firebaseapp.com",
            databaseURL: "https://drenicasot-2026-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "drenicasot-2026",
            storageBucket: "drenicasot-2026.appspot.com",
            messagingSenderId: "1029384756",
            appId: "1:1029384756:web:a1b2c3d4e5f6"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        function save() {
            const titulli = document.getElementById('t').value;
            const pershkrimi = document.getElementById('p').value;
            if(titulli && pershkrimi) {
                db.ref('lajmet').push({
                    titulli: titulli,
                    foto: document.getElementById('f').value || 'https://via.placeholder.com/400',
                    kategoria: document.getElementById('k').value,
                    pershkrimi: pershkrimi
                });
                alert("U postua me sukses!");
                document.getElementById('t').value = '';
                document.getElementById('p').value = '';
            } else { alert("Plotëso titullin dhe tekstin!"); }
        }
        db.ref('lajmet').on('value', (snap) => {
            const l = document.getElementById('list'); l.innerHTML = '';
            snap.forEach((c) => {
                l.innerHTML += `<div class="item"><span>${c.val().titulli}</span><button class="btn-del" onclick="del('${c.key}')">FSHIJ</button></div>`;
            });
        });
        function del(id) { if(confirm("A dëshiron ta fshish këtë lajm?")) db.ref('lajmet/'+id).remove(); }
    </script>
</body>
</html>