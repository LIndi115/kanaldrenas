<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - KANAL DRENAS</title>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #1a1a1a; color: white; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; background: #262626; padding: 25px; border-radius: 10px; border: 1px solid #ffcc00; }
        
        h2 { text-align: center; color: #ffcc00; text-transform: uppercase; letter-spacing: 2px; }
        
        /* Pjesa e Formës */
        .form-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .full-width { grid-column: span 2; }
        
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #ccc; }
        input, select, textarea { width: 100%; padding: 12px; border-radius: 5px; border: 1px solid #444; background: #333; color: white; box-sizing: border-box; }
        input:focus { border-color: #ffcc00; outline: none; }

        .btn-submit { background: #ffcc00; color: black; padding: 15px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%; font-size: 16px; margin-top: 10px; }
        .btn-submit:hover { background: #e6b800; }

        /* Seksioni Search dhe Menaxhimi */
        .management-header { display: flex; justify-content: space-between; align-items: center; margin-top: 50px; padding-top: 20px; border-top: 2px solid #ffcc00; }
        
        .search-container { display: flex; gap: 10px; }
        #searchInput { width: 250px; border: 2px solid #ffcc00; background: white; color: black; }
        
        .btn-search { background: #ffcc00; color: black; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        /* Tabela e Lajmeve */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #333; }
        th, td { padding: 12px; border: 1px solid #444; text-align: left; }
        th { background: #444; color: #ffcc00; }
        
        .delete-btn { background: #ff4444; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
        .delete-btn:hover { background: #cc0000; }
        
        .preview-img { width: 60px; height: 40px; object-fit: cover; border-radius: 3px; }
    </style>
</head>
<body>

<div class="container">
    <h2>Kanal Drenas - Admin Panel</h2>

    <div class="form-section">
        <div class="full-width">
            <label>Titulli i Lajmit</label>
            <input type="text" id="newsTitle" placeholder="Shkruaj titullin këtu...">
        </div>
        
        <div>
            <label>Ngarko Foto (File)</label>
            <input type="file" id="newsImage" accept="image/*">
        </div>
        
        <div>
            <label>Linku i Videos (opsionale)</label>
            <input type="text" id="newsVideo" placeholder="URL nga YouTube ose Facebook...">
        </div>

        <div>
            <label>Kategoria</label>
            <select id="newsCategory">
                <option value="Lajme">Lajme</option>
                <option value="Sport">Sport</option>
                <option value="Kulturë">Kulturë</option>
                <option value="Drenas">Drenas</option>
            </select>
        </div>

        <div>
            <label>Data</label>
            <input type="date" id="newsDate">
        </div>

        <div class="full-width">
            <label>Përmbajtja e Lajmit</label>
            <textarea id="newsContent" rows="4" placeholder="Shkruaj tekstin e lajmit..."></textarea>
        </div>
    </div>

    <button class="btn-submit" onclick="publishNews()">PUBLIKO LAJMIN</button>

    <div class="management-header">
        <h3>Menaxhimi i Lajmeve</h3>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Kërko titullin e lajmit...">
            <button class="btn-search" onclick="filterNews()">SEARCH</button>
        </div>
    </div>

    <table id="adminTable">
        <thead>
            <tr>
                <th>Media</th>
                <th>Titulli</th>
                <th>Data</th>
                <th>Veprimi</th>
            </tr>
        </thead>
        <tbody id="newsList">
            </tbody>
    </table>
</div>

<script>
    // Funksioni për Publikim
    function publishNews() {
        const title = document.getElementById('newsTitle').value;
        const date = document.getElementById('newsDate').value;
        const category = document.getElementById('newsCategory').value;
        
        if(title === "" || date === "") {
            alert("Ju lutem plotësoni Titullin dhe Datën!");
            return;
        }

        const tbody = document.getElementById('newsList');
        const row = tbody.insertRow(0); // Shtohet në fillim të listës

        row.innerHTML = `
            <td><div style="width:60px; height:40px; background:#555; display:flex; align-items:center; justify-content:center; font-size:10px;">Media</div></td>
            <td><strong>${title}</strong><br><small>${category}</small></td>
            <td>${date}</td>
            <td><button class="delete-btn" onclick="deleteNews(this)">SHLYEJ</button></td>
        `;

        // Pastro formën
        document.getElementById('newsTitle').value = "";
        alert("Lajmi u publikua me sukses në listën poshtë!");
    }

    // Funksioni SEARCH (Enter ose Click)
    function filterNews() {
        let input = document.getElementById('searchInput').value.toLowerCase();
        let table = document.getElementById('adminTable');
        let tr = table.getElementsByTagName('tr');

        for (let i = 1; i < tr.length; i++) {
            let title = tr[i].getElementsByTagName('td')[1].innerText.toLowerCase();
            if (title.includes(input)) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }

    // Lejon kërkimin duke shtypur butonin "Enter"
    document.getElementById("searchInput").addEventListener("keyup", function(event) {
        if (event.key === "Enter") {
            filterNews();
        }
    });

    // Funksioni për Shlyerje (Delete)
    function deleteNews(btn) {
        if(confirm("A je i sigurt që dëshiron ta fshish këtë lajm?")) {
            let row = btn.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
    }
</script>

</body>
</html>
