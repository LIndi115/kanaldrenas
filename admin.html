<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRENICA SOT - ADMIN PANEL PRO</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        :root { --red: #ff0000; --dark: #050505; --card: #121212; --input: #1a1a1a; --text: #ffffff; }
        body { background: var(--dark); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        
        .header { text-align: center; margin-bottom: 40px; padding: 20px; border-radius: 15px; background: linear-gradient(145deg, #111, #000); border: 1px solid #222; }
        .header h1 { color: var(--red); font-size: 2.5rem; text-transform: uppercase; margin: 0; }

        .post-box { background: var(--card); padding: 30px; border-radius: 20px; border: 1px solid #222; margin-bottom: 50px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-size: 13px; text-transform: uppercase; color: #888; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 15px; background: var(--input); border: 1px solid #333; border-radius: 10px; color: white; font-size: 16px; box-sizing: border-box; }
        input:focus { border-color: var(--red); outline: none; }

        .btn-send { background: var(--red); color: white; border: none; padding: 18px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: 800; cursor: pointer; text-transform: uppercase; transition: 0.3s; }
        .btn-send:hover { transform: scale(1.02); box-shadow: 0 0 20px rgba(255, 0, 0, 0.4); }

        /* Lista e Menaxhimit */
        .manage-section h2 { border-left: 4px solid var(--red); padding-left: 15px; margin-bottom: 25px; }
        .news-item { background: #000; padding: 15px; border-radius: 12px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #222; }
        .news-info h4 { margin: 0; font-size: 16px; }
        .news-info span { font-size: 11px; color: var(--red); text-transform: uppercase; font-weight: bold; }
        .btn-delete { background: #300; color: #f55; border: 1px solid #500; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-delete:hover { background: var(--red); color: white; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>DRENICA<span>SOT</span> DASHBOARD</h1>
        <p style="color: #555;">MIRÃ‹SEVINI NÃ‹ PANELIN E KONTROLLIT, HEROLIND</p>
    </div>

    <div class="post-box">
        <div class="input-group">
            <label>Titulli i Lajmit</label>
            <input type="text" id="titulli" placeholder="Shkruaj titullin e lajmit...">
        </div>

        <div style="display: flex; gap: 20px; margin-bottom: 20px;">
            <div style="flex: 2;">
                <label>Linku i Fotos (URL)</label>
                <input type="text" id="foto" placeholder="Ngjit linkun e fotos nga Google...">
            </div>
            <div style="flex: 1;">
                <label>Zgjidh RubrikÃ«n</label>
                <select id="kategoria">
                    <option value="KRYESORE">Kryesore</option>
                    <option value="SPORT">Sport</option>
                    <option value="DRENICA">Drenica</option>
                    <option value="VIP">VIP & Showbiz</option>
                    <option value="EKONOMI">Ekonomi</option>
                    <option value="TEKNOLOGJI">Teknologji</option>
                </select>
            </div>
        </div>

        <div class="input-group">
            <label>PÃ«rmbajtja e Lajmit</label>
            <textarea id="pershkrimi" rows="4" placeholder="Shkruaj tekstin e lajmit kÃ«tu..."></textarea>
        </div>

        <button class="btn-send" onclick="shtoLajm()">PUBLIKO LAJMIN TANI</button>
    </div>

    <div class="manage-section">
        <h2>ðŸ“‚ Menaxho Lajmet Ekzistuese</h2>
        <div id="lista-lajmeve">
            </div>
    </div>
</div>

<script>
    // === VENDOS KODIN TÃ‹ND TÃ‹ FIREBASE KÃ‹TU ===
    const firebaseConfig = {
        apiKey: "AIzaSy...",
        authDomain: "drenicasot-....firebaseapp.com",
        databaseURL: "https://drenicasot-....firebaseio.com",
        projectId: "drenicasot-...",
        storageBucket: "drenicasot-....appspot.com",
        messagingSenderId: "...",
        appId: "..."
    };
    // =========================================

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function shtoLajm() {
        const t = document.getElementById('titulli').value;
        const f = document.getElementById('foto').value;
        const p = document.getElementById('pershkrimi').value;
        const k = document.getElementById('kategoria').value;

        if(t && p) {
            database.ref('lajmet').push({
                titulli: t,
                foto: f || 'https://via.placeholder.com/600x400/000/ff0000?text=DRENICA+SOT',
                pershkrimi: p,
                kategoria: k,
                data: new Date().toLocaleDateString('sq-AL')
            });
            alert("Lajmi u publikua!");
            document.getElementById('titulli').value = '';
            document.getElementById('pershkrimi').value = '';
            document.getElementById('foto').value = '';
        } else {
            alert("PlotÃ«so titullin dhe pÃ«rmbajtjen!");
        }
    }

    // Leximi i lajmeve pÃ«r t'i fshirÃ«
    database.ref('lajmet').on('value', (snapshot) => {
        const listDiv = document.getElementById('lista-lajmeve');
        listDiv.innerHTML = '';
        snapshot.forEach((child) => {
            const lajmi = child.val();
            const key = child.key;
            listDiv.innerHTML += `
                <div class="news-item">
                    <div class="news-info">
                        <span>${lajmi.kategoria}</span>
                        <h4>${lajmi.titulli}</h4>
                    </div>
                    <button class="btn-delete" onclick="fshijLajmin('${key}')">FSHIJ</button>
                </div>
            `;
        });
    });

    function fshijLajmin(id) {
        if(confirm("A je i sigurt?")) {
            database.ref('lajmet/' + id).remove();
        }
    }
</script>

</body>
</html>